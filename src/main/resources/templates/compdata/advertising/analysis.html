<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <th:block th:include="include :: header('广告基本指标分析')" />
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight">
    <form role="form">
        <div class="form-group">
            <label for="name" style="width: 100px;display: inline;">选择型号</label>
            <select class="form-control" style="width: 100px;display: inline;" id="type">
                <option value="">所有</option>
                <!--                <option th:each="item,itemStat : ${typeList}" th:text="${item}" th:value="${item}"></option>-->
            </select>
            <label for="name" style="width: 100px;display: inline;">选择店铺</label>
            <select class="form-control" style="width: 100px;display: inline;" id="store_code">
                <option value="">所有</option>
                <!--                <option th:each="item,itemStat : ${typeList}" th:text="${item}" th:value="${item}"></option>-->
            </select>
            <label for="name" style="width: 100px;display: inline;">选择asin</label>
            <select class="form-control" style="width: 100px;display: inline;" id="asin">
                <option value="">所有</option>
                <!--                <option th:each="item,itemStat : ${typeList}" th:text="${item}" th:value="${item}"></option>-->
            </select>
            <label for="name" style="width: 100px;display: inline;">选择sku</label>
            <select class="form-control" style="width: 100px;display: inline;" id="sku">
                <option value="">所有</option>
                <!--                <option th:each="item,itemStat : ${typeList}" th:text="${item}" th:value="${item}"></option>-->
            </select>
            <button type="button" class="btn btn-w-m btn-success" onclick="resetConditionAndRefresh()">重置条件</button>
        </div>
    </form>
    <h2>一、广告基本指标分析</h2>

    <!--row1-->
    <div class="row">
        <!--1-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="totalExposure_TotalClick_bar"></div>
                </div>
            </div>
        </div>
        <!--2-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="methCtrs_line"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- row2 -->
    <div class="row">
        <!--1-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="totalClick-totalAdvertisingOrder-bar"></div>
                </div>
            </div>
        </div>
        <!--2-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="methCvr_line"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- row3 -->
    <div class="row">
        <!--1-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">

                    <div class="echarts" id="maxSessions-line"></div>
                </div>
            </div>
        </div>
        <!--2-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="maxCvr-line"></div>
                </div>
            </div>
        </div>
    </div>

    <h2>二、花费和销售情况分析</h2>

    <!--row4-->
    <div class="row">
        <!--1-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">

                    <div class="echarts" id="totalAdvertisingSpends-totalAdvertisingSaleses-bar"></div>
                </div>
            </div>
        </div>
        <!--2-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="totalAdvertisingSpends-totalSaleses-bar"></div>
                </div>
            </div>
        </div>
    </div>

    <!--row5-->
    <div class="row">
        <!--1-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">

                    <div class="echarts" id="methAcos-line"></div>
                </div>
            </div>
        </div>
        <!--2-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="methCpc-line"></div>
                </div>
            </div>
        </div>
    </div>

    <!--row6-->
    <div class="row">
        <!--1-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">

                    <div class="echarts" id="methAcoas-line"></div>
                </div>
            </div>
        </div>
        <!--2-->
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="echarts" id="methRefundRate-line"></div>
                </div>
            </div>
        </div>
    </div>

</div>
<th:block th:include="include :: footer" />
<th:block th:include="include :: echarts-js" />
<script type="text/javascript">
    var analysis_url = "/compdata/advertising/getAnalysisData";
    var searchObj = {type:"",storeCode:"",asin:"",sku:""};//搜索条件对象
    var changeSelect = "";
    $(function () {
        init_echarts();
        init_searchArea();
        monitor_searchArea();

    });
    function monitor_searchArea(){
        $("#type").change(function(){
            //type = $("#type option:selected").val();
            searchObj.type = $("#type option:selected").val();
            changeSelect = this.id;
            init_searchArea();
            init_echarts();
        });
        $("#store_code").change(function(){
            //type = $("#type option:selected").val();
            searchObj.storeCode = $("#store_code option:selected").val();
            changeSelect = this.id;
            init_searchArea();
            init_echarts();
        });
        $("#asin").change(function(){
            //type = $("#type option:selected").val();
            searchObj.asin = $("#asin option:selected").val();
            changeSelect = this.id;

            init_searchArea();
            init_echarts();
        });
        $("#sku").change(function(){
            //type = $("#type option:selected").val();
            searchObj.sku = $("#sku option:selected").val();
            changeSelect = this.id;

            init_searchArea();
            init_echarts();
        });

    }

    //构建搜索参数
    function buildCondition(){
        searchObj = {type:"",storeCode:"",asin:"",sku:""};
        searchObj.type = $("#type option:selected").val();
        searchObj.storeCode = $("#store_code option:selected").val();
        searchObj.asin = $("#asin option:selected").val();
        searchObj.sku = $("#sku option:selected").val();
    }

    function buildCondition4InitSearchArea(){
        searchObj = {type:"",storeCode:"",asin:"",sku:""};
        searchObj.type = $("#type option:selected").val();
        searchObj.storeCode = $("#store_code option:selected").val();
        searchObj.asin = $("#asin option:selected").val();
        searchObj.sku = $("#sku option:selected").val();
    }

    function init_searchArea(){
        buildCondition4InitSearchArea();
        console.log("searchObj:"+searchObj);
        $.ajax({
            url : "/compdata/advertising/getAdvertisingAnalySearch",
            type : "GET",
            dataType : "JSON",
            data: searchObj,
            success : function(res) {
                var types = res.data.types;
                var storeCodes = res.data.storeCodes;
                var asins = res.data.asins;
                var skus = res.data.skus;
                //var changeSelect = res.data.changeSelect;
                console.log("res.data:"+res.data);
                if(changeSelect!="type"){
                    $("#type").html('<option value="">所有</option>');
                    $.each(types,function(index,value){
                        var selectSatus = '';
                        if(value==searchObj.type) selectSatus = 'selected  =  "selected"';
                        $("#type").append('<option '+selectSatus+' value="'+value+'">'+value+'</option>');
                    });
                }
                if(changeSelect!="store_code") {
                    $("#store_code").html('<option value="">所有</option>');
                    $.each(storeCodes, function (index, value) {
                        var selectSatus = '';
                        if (value == searchObj.storeCode) selectSatus = 'selected  =  "selected"';
                        $("#store_code").append('<option ' + selectSatus + ' value="' + value + '">' + value + '</option>');
                    });
                }

                if(changeSelect!="asin") {
                    $("#asin").html('<option value="">所有</option>');
                    $.each(asins, function (index, value) {
                        var selectSatus = '';
                        if (value == searchObj.asin) selectSatus = 'selected  =  "selected"';
                        $("#asin").append('<option ' + selectSatus + '  value="' + value + '">' + value + '</option>');
                    });
                }

                if(changeSelect!="sku") {
                    $("#sku").html('<option value="">所有</option>');
                    $.each(skus, function (index, value) {
                        var selectSatus = '';
                        if (value == '') return;
                        if (value == searchObj.sku) selectSatus = 'selected  =  "selected"';
                        $("#sku").append('<option ' + selectSatus + '  value="' + value + '">' + value + '</option>');
                    });
                }


            },
            error : function(errorMsg) {
                layer.msg('服务器开了点小差，请稍后刷新页面!', {icon: 0});
                myChart.hideLoading();
            }
        });
    }

    function init_echarts(){
        buildCondition();
        $.ajax({
            url : analysis_url,
            type : "GET",
            dataType : "JSON",
            // data: {
            //     type: searchObj.type
            // },
            data:  searchObj,
            success : function(res) {
                var data = res.data;
                //init_totalExposure_totalClick_bar(data);totalExposure_TotalClick_bar
                init_chartW2W2Y(data.months,[data.totalExposures,data.totalClicks],"totalExposure_TotalClick_bar", "曝光和点击维度分析",['曝光','点击'],
                    ["#62d1de","#dc143c"],["bar","line"],[-1,-1]);
                //init_methCtrs_line(data); methCtrs_line
                init_chart(data.months,data.methCtrs,"methCtrs_line","点击率(CTR)趋势分析","","#62d1de","line",-1,"%");
                //init_totalClick_totalAdvertisingOrder_bar(data);
                init_chartWith2(data.months,[data.totalClicks,data.totalAdvertisingOrders],"totalClick-totalAdvertisingOrder-bar", "点击和下单维度分析",['点击','下单'],
                    ["#62d1de","#dc143c"],["bar","bar"]);
                //init_methCvr_line(data);
                init_chart(data.months,data.methCvrs,"methCvr_line","广告转化率(CVR)趋势分析","","#62d1de","line",-1,"%");
                //init_maxSessions_line(data); maxSessions-line
                init_chart(data.months,data.maxSessionses,"maxSessions-line","Sessions趋势分析","","#62d1de","line");
                //init_maxCvr_line(data); maxCvr-line
                init_chart(data.months,data.maxCvrs,"maxCvr-line","CVR(订单量/流量)趋势分析","","#62d1de","line",-1,"%");
                //init_totalAdvertisingSpends_totalAdvertisingSaleses_bar(data); totalAdvertisingSpends-totalAdvertisingSaleses-bar
                init_chartWith2(data.months,[data.totalAdvertisingSpends,data.totalAdvertisingSaleses],"totalAdvertisingSpends-totalAdvertisingSaleses-bar",
                    "广告花费和广告销售额维度分析",['广告花费','广告销售额'], ["#62d1de","#dc143c"],["bar","line"]);
                //init_totalAdvertisingSpends_totalSaleses_bar(data);
                init_chartWith2(data.months,[data.totalAdvertisingSpends,data.totalSaleses],"totalAdvertisingSpends-totalSaleses-bar",
                    "广告花费和总销售额维度分析",['广告花费','总销售额'], ["#62d1de","#dc143c"],["bar","line"]);
                //init_methAcos_line(data);
                init_chart(data.months,data.methAcoses,"methAcos-line","ACOS(广告花费/广告销售额)分析","","#62d1de","line",-1,"%");
                //init_methCpc_line(data);
                init_chart(data.months,data.methCpcs,"methCpc-line","CPC(每点击费用)分析","","#62d1de","line");
                //init_methAcoas_line(data);
                init_chartWith2(data.months,[data.methAdvertisingOrderPercentages,data.methAcoases],"methAcoas-line",
                    "广告订单占比和ACoAS(广告花费占总销售额）",['广告订单占比','ACoAS'], ["#62d1de","#dc143c"],["line","line"],"%",["%","%"]);
                //init_methRefundRate_line(data); methRefundRate-line
                init_chart(data.months,data.methRefundRates,"methRefundRate-line","退款率趋势分析","","#62d1de","line",-1,"%");
            },
            error : function(errorMsg) {

                layer.msg('服务器开了点小差，请稍后刷新页面!', {icon: 0});
                myChart.hideLoading();
            }
        });
        //searchObj = {type:"",storeCode:"",asin:"",sku:"",changeSelect:""};
    };

    function resetConditionAndRefresh(){
        // changeSelect = "";
        // init_echarts();
        // init_searchArea();
        window.location.reload();
    }

    //totalExposure_TotalClick_bar渲染
    function init_totalExposure_totalClick_bar(data){
        var barChart = echarts.init(document.getElementById("totalExposure_TotalClick_bar"));
        var baroption = {
            title: {
                text: '曝光和点击维度分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['曝光', '点击']
            },
            grid: {
                x: 30,
                x2: 40,
                y2: 24,
                //left: '10%'
                containLabel: true
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    data: data.months
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            color:['#62d1de','#DC143C'],
            series: [
                {
                    name: '曝光',
                    type: 'bar',
                    data: data.totalExposures,
                    itemStyle : { normal: {label : {show: true}}},
                    textStyle: {
                        color: '#333'          // 值域文字颜色
                    },
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
                {
                    name: '点击',
                    type: 'bar',
                    data: data.totalClicks,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                }
            ]
        };
        barChart.setOption(baroption);

        window.onresize = barChart.resize;

    }

    //initMethCtrs
    function init_methCtrs_line(data){
        var lineChart = echarts.init(document.getElementById("methCtrs_line"));
        var lineoption = {
            title: {
                text: '点击率(CTR)趋势分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            // legend: {
            //     data: ['最高气温', '最低气温']
            // },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value} %'
                    }
                }
            ],
            color: ['#62d1de'],
            series: [
                {
                    name: 'CTR',
                    type: 'line',
                    data: data.methCtrs,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }

    //totalClick-totalAdvertisingOrder-bar渲染
    function init_totalClick_totalAdvertisingOrder_bar(data){
        var barChart = echarts.init(document.getElementById("totalClick-totalAdvertisingOrder-bar"));
        var baroption = {
            title: {
                text: '点击和下单维度分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['点击', '下单']
            },
            grid: {
                x: 30,
                x2: 40,
                y2: 24,
                containLabel: true
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            color:['#62d1de','#DC143C'],
            series: [
                {
                    name: '点击',
                    type: 'bar',
                    data: data.totalClicks,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
                {
                    name: '下单',
                    type: 'bar',
                    data: data.totalAdvertisingOrders,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                }
            ]
        };
        barChart.setOption(baroption);

        window.onresize = barChart.resize;

    }
    //methCvr_line渲染
    function init_methCvr_line(data){
        var lineChart = echarts.init(document.getElementById("methCvr_line"));
        var lineoption = {
            title: {
                text: '广告转化率(CVR)趋势分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            // legend: {
            //     data: ['最高气温', '最低气温']
            // },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value} %'
                    }
                }
            ],
            color: ['#62d1de'],
            series: [
                {
                    name: 'CVR',
                    type: 'line',
                    data: data.methCvrs,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }

    //maxSessions_line渲染
    function init_maxSessions_line(data){
        var lineChart = echarts.init(document.getElementById("maxSessions-line"));
        var lineoption = {
            title: {
                text: 'Sessions趋势分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            // legend: {
            //     data: ['最高气温', '最低气温']
            // },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}'
                    }
                }
            ],
            color: ['#62d1de'],
            series: [
                {
                    name: 'Sessions',
                    type: 'line',
                    data: data.maxSessionses,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }

    //maxCvr-line渲染
    function init_maxCvr_line(data){
        var lineChart = echarts.init(document.getElementById("maxCvr-line"));
        var lineoption = {
            title: {
                text: 'CVR(订单量/流量)趋势分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            // legend: {
            //     data: ['最高气温', '最低气温']
            // },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}'
                    }
                }
            ],
            color: ['#62d1de'],
            series: [
                {
                    name: 'cvr',
                    type: 'line',
                    data: data.maxCvrs,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }

    //totalAdvertisingSpends-totalAdvertisingSaleses-bar渲染
    function init_totalAdvertisingSpends_totalAdvertisingSaleses_bar(data){
        var barChart = echarts.init(document.getElementById("totalAdvertisingSpends-totalAdvertisingSaleses-bar"));
        var baroption = {
            title: {
                text: '广告花费和广告销售额维度分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['广告花费', '广告销售额']
            },
            grid: {
                x: 30,
                x2: 40,
                y2: 24,
                containLabel: true
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            color:['#62d1de','#DC143C'],
            series: [
                {
                    name: '广告花费',
                    type: 'bar',
                    data: data.totalAdvertisingSpends,
                    itemStyle : { normal: {label : {show: true}}},
                    textStyle: {
                        color: '#333'          // 值域文字颜色
                    },
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
                {
                    name: '广告销售额',
                    type: 'bar',
                    data: data.totalAdvertisingSaleses,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                }
            ]
        };
        barChart.setOption(baroption);

        window.onresize = barChart.resize;

    }

    //totalAdvertisingSpends-totalSaleses-bar渲染
    function init_totalAdvertisingSpends_totalSaleses_bar(data){
        var barChart = echarts.init(document.getElementById("totalAdvertisingSpends-totalSaleses-bar"));
        var baroption = {
            title: {
                text: '广告花费和总销售额维度分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['广告花费', '总销售额']
            },
            grid: {
                x: 30,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            color:['#62d1de','#DC143C'],
            series: [
                {
                    name: '广告花费',
                    type: 'bar',
                    data: data.totalAdvertisingSpends,
                    itemStyle : { normal: {label : {show: true}}},
                    textStyle: {
                        color: '#333'          // 值域文字颜色
                    },
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
                {
                    name: '总销售额',
                    type: 'bar',
                    data: data.totalSaleses,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                }
            ]
        };
        barChart.setOption(baroption);

        window.onresize = barChart.resize;

    }

    //methAcos-line渲染
    function init_methAcos_line(data){
        var lineChart = echarts.init(document.getElementById("methAcos-line"));
        var lineoption = {
            title: {
                text: 'ACOS(广告花费/广告销售额)分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            // legend: {
            //     data: ['最高气温', '最低气温']
            // },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}'
                    }
                }
            ],
            color: ['#62d1de'],
            series: [
                {
                    name: 'Acos',
                    type: 'line',
                    data: data.methAcoses,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }

    //methAcos-line渲染
    function init_methCpc_line(data){
        var lineChart = echarts.init(document.getElementById("methCpc-line"));
        var lineoption = {
            title: {
                text: 'CPC(每点击费用)分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            // legend: {
            //     data: ['最高气温', '最低气温']
            // },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}'
                    }
                }
            ],
            color: ['#62d1de'],
            series: [
                {
                    name: 'Acos',
                    type: 'line',
                    data: data.methCpcs,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }

    //methAcoas-line渲染
    function init_methAcoas_line(data){
        var lineChart = echarts.init(document.getElementById("methAcoas-line"));
        var lineoption = {
            title: {
                text: '广告订单占比和ACoAS(广告花费占总销售额）'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['广告订单占比', 'ACoAS']
            },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}%'
                    }
                }
            ],
            color:['#62d1de','#DC143C'],
            series: [
                {
                    name: '广告订单占比',
                    type: 'line',
                    data: data.methAdvertisingOrderPercentages,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
                {
                    name: 'ACoAS',
                    type: 'line',
                    data: data.methAcoases,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }

    //methRefundRate-line渲染
    function init_methRefundRate_line(data){
        var lineChart = echarts.init(document.getElementById("methRefundRate-line"));
        var lineoption = {
            title: {
                text: '退款率趋势分析'
            },
            tooltip: {
                trigger: 'axis'
            },
            // legend: {
            //     data: ['最高气温', '最低气温']
            // },
            grid: {
                x: 40,
                x2: 40,
                y2: 24
            },
            calculable: true,
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    data: data.monthStrs
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}%'
                    }
                }
            ],
            color: ['#62d1de'],
            series: [
                {
                    name: '退款率',
                    type: 'line',
                    data: data.methRefundRates,
                    itemStyle : { normal: {label : {show: true}}},
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    // markLine: {
                    //     data: [
                    //         {type: 'average', name: '平均值'}
                    //     ]
                    // }
                },
            ]
        };
        lineChart.setOption(lineoption);
        $(window).resize(lineChart.resize);
    }
</script>
</body>
</html>